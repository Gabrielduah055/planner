<div class="font-inter bg-cover bg-center h-[100vh]" style="background-image: url({{ResetPassImg}}); background-size: cover; background-position: center;">
  <div class="container text-white absolute mt-[300px] lg:pl-10 lg:text-left 2xl:text-left 2xl:mt-[300px] lg:text-[48px] lg:mt-48">
    <p class="w-[700px] leading-[60px] font-bold 2xl:pl-36 2xl:w-[950px] lg:w-[750px]">
      Unleash Innovation, Amplify Engagement, and Redefine Event Success with Our Comprehensive Platform
    </p>
    <p class="lg:text-[12px] w-[532px] h-[56px] leading-5 2xl:pl-36 2xl:w-[680px]">
      Where Seamless Planning Meets Unforgettable Experiences: Elevate Your Events with Confidence and Ease.
    </p>
  </div>

  <div>
    <form [formGroup]="ResetSer" (ngSubmit)="onSubmit()" class="sm:rounded-none xl:rounded-xl mx-auto w-[430px] md:mt-0 h-[527.95px] bg-white pl-8 pr-8 pt-3 gap-5 relative lg:max-w-none lg:w-[400px] lg:absolute lg:top-5 lg:right-5 lg:mr-9 2xl:rounded-xl 2xl:mt-40">
      <div class="flex items-center justify-center mb-6 mt-2 cursor-pointer" (click)="Home()">
        <img src="assets/esp/logo.png" alt="Event Vista Logo" class="mr-2">
        <h2 class="font-bold text-[24.59px] pt-3 xl:pb-3">{{Event}} <span class="text-red-700">{{Vista}}</span></h2>
      </div>

      <div>
        <!-- Error message handling -->
        <ng-container *ngIf="isError">
          <app-invalid-password [errorMessage]="unAthorized"></app-invalid-password>
        </ng-container>
        <ng-container *ngIf="isNotFetch">
          <app-error [errorMessage]="serverErrorMessage"></app-error>
        </ng-container>
        <ng-container *ngIf="isRequired">
          <app-invalid-password [errorMessage]="required"></app-invalid-password>
        </ng-container>
        <ng-container *ngIf="isSuccess">
          <app-success [success]="success"></app-success>
        </ng-container>
      </div>

      <h2 class="text-lg font-bold text-center mt-0 text-[24px] mb-1">{{Reset}}</h2>
      <p class="mb-7 text-center text-[#667085] text-[14px]">{{ReturnPlan}}</p>

      <div class="mb-5">
        <label for="password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white mt-5">Password</label>
        <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password"
          class="shadow-sm bg-white-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:text-white"
          placeholder="Enter password here" required>
        <img *ngIf="!showPassword" src="assets/esp/close-pass.png" alt="Toggle Password Visibility"
          class="size-10 absolute xl:right-12 bottom-64 cursor-pointer" (click)="togglePasswordVisibility()">
        <img *ngIf="showPassword" src="assets/esp/open-pass.png" alt="Toggle Password Visibility"
          class="size-10 absolute xl:right-12 bottom-64 cursor-pointer" (click)="togglePasswordVisibility()">

        <div class="text-red-600 absolute mt-0 text-[10px]"
          *ngIf="ResetSer.get('password')?.invalid && ResetSer.get('password')?.touched">
          <span *ngIf="ResetSer.get('password')?.errors?.['required']">Field is required</span>
          <span *ngIf="ResetSer.get('password')?.errors?.['minlength'] else hasDigit">Min 8 Characters Required</span>
          <ng-template #hasDigit>
            <span *ngIf="ResetSer.get('password')?.errors?.['hasDigit'] else hasUppercase">Must contain at least one digit</span>
          </ng-template>
          <ng-template #hasUppercase>
            <span *ngIf="ResetSer.get('password')?.errors?.['hasUppercase'] else hasLowercase">Must contain at least one uppercase letter</span>
          </ng-template>
          <ng-template #hasLowercase>
            <span *ngIf="ResetSer.get('password')?.errors?.['hasLowercase'] else hasSpecialCharacters">Must contain at least one lowercase letter</span>
          </ng-template>
          <ng-template #hasSpecialCharacters>
            <span *ngIf="ResetSer.get('password')?.errors?.['hasSpecialCharacters']">Must contain at least one special character</span>
          </ng-template>
        </div>
      </div>

      <div class="mb-2">
        <label for="confirm-password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white mt-5">Confirm password</label>
        <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword" formControlName="confirmPassword"
          class="shadow-sm bg-white-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:text-white"
          placeholder="Re-enter password" required>
        <img *ngIf="!showConfirmPassword" src="assets/esp/close-pass.png" alt="Toggle Confirm Password Visibility"
          class="size-10 absolute xl:right-12 bottom-40 cursor-pointer" (click)="toggleConfirmPasswordVisibility()">
        <img *ngIf="showConfirmPassword" src="assets/esp/open-pass.png" alt="Toggle Confirm Password Visibility"
          class="size-10 absolute xl:right-12 bottom-40 cursor-pointer" (click)="toggleConfirmPasswordVisibility()">

        <!-- Error messages for confirmPassword field -->
        <div class="text-red-600 absolute mt-0 text-[10px]"
          *ngIf="ResetSer.get('confirmPassword')?.invalid && ResetSer.get('confirmPassword')?.touched">
          <span *ngIf="ResetSer.get('confirmPassword')?.errors?.['required']">Field is required</span>
          <span *ngIf="ResetSer.get('confirmPassword')?.errors?.['minlength'] else passwordMismatch">Min 8 Characters Required</span>

          <ng-template #passwordMismatch>
            <span *ngIf="ResetSer.hasError('passwordMismatch')">Passwords do not match</span>
          </ng-template>
        </div>
      </div>

      <button type="submit"
        class="bg-[#BC1B06] cursor-pointer hover:bg-[#cc210a] text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full mt-4">
        {{Changepassword}}
      </button>

      <p class="mt-4 text-center text-[14px] text-[#667085]">
        <span>{{BackToLogin}}</span>
        <span class="text-[#BC1B06] text-[14px font-medium]" (click)="Login()"> Log in</span>
      </p>
    </form>
  </div>
</div>
